<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>两个矩形向相反方向运动</title>
	<style>
		canvas{
			background: #ccc;
		}
	</style>
	<script>
	window.onload=function(){
		var canvas=document.querySelector("canvas");
		var context=canvas.getContext("2d");
		function rect(x,y,w,h){
			this.x=x;
			this.y=y;
			this.w=w;
			this.h=h;
			this.speedx=5;
			this.speedy=5;
		}
		rect.prototype={
			draw:function(){
				context.save();
				context.translate(this.x,this.y);
				context.fillRect(0,0,this.w,this.h);
				context.restore();
			},
			update:function(){
				this.x+=this.speedx;
				this.y+=this.speedy;
			}
		}
		var rect1=new rect(0,0,100,100);
		var rect2=new rect(400,0,100,100);
		var t=setInterval(function(){
			context.clearRect(0,0,canvas.width,canvas.height);
			rect1.draw();
			rect2.draw();
			rect1.update();
			rect2.update();
			rect2.speedx=-5;
		},50);
	}
	</script>
</head>
<body>
	<canvas width="500" height="500"></canvas>
</body>
</html>